<!doctype html>
<html lang="zh-cmn" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
</head>
<body>
<div th:fragment="checkManagerLogin">
  <div th:if="${session.dcoinManagerInfo==null}">
    <script>
    if(top)
      top.location.href='/ddcar/page/login';
    else
    	location.href='/ddcar/page/login';
    </script>
  </div>
</div>
<div th:fragment="header_web">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <link href="../images/favicon.ico" th:href="@{/images/favicon.ico}" rel="shortcut icon" />
    <link href="../css/bootstrap.min.css?v=3.3.6" th:href="@{/css/bootstrap.min.css?v=3.3.6}" rel="stylesheet"/>
    <link href="../css/font-awesome.min.css?v=4.4.0" th:href="@{/css/font-awesome.min.css?v=4.4.0}" rel="stylesheet"/>
    <link href="../css/animate.min.css" th:href="@{/css/animate.min.css}" rel="stylesheet"/>
    <link href="../css/style.min.css?v=4.1.0" th:href="@{/css/style.min.css?v=4.1.0}" rel="stylesheet"/>
    <link href="../css/plugins/iCheck/custom.css" th:href="@{/css/plugins/iCheck/custom.css}" rel="stylesheet"/>
    <link href="../css/plugins/sweetalert/sweetalert.css" th:href="@{/css/plugins/sweetalert/sweetalert.css}" rel="stylesheet"/>
    <link href="../css/myself/pager.css" th:href="@{/css/myself/pager.css}" rel="stylesheet" />
    <style type="text/css">
        /* 滚动条 */
        ::-webkit-scrollbar {
            width: 8px;
        }

        /* Track  滚动条的滑轨背景颜色 */
        ::-webkit-scrollbar-track {
            -webkit-box-shadow: inset 0 0 4px rgba(0,0,0,0.3);
            -webkit-border-radius: 3px;
            border-radius: 3px;
            background: #fefefe;
        }

        /* Handle 滑块颜色 */
        ::-webkit-scrollbar-thumb {
            -webkit-border-radius: 3px;
            border-radius: 3px;
            background: #dddddd;
            -webkit-box-shadow: inset 0 0 4px rgba(0,0,0,0.1);
        }
        ::-webkit-scrollbar-thumb:window-inactive {
            background: #dddddd;
        }

        .modal-header,.modal-footer{cursor:pointer;}
        .float-e-margins .btn {
            margin-bottom: 0px;
        }
        .btn-group{padding-bottom:10px;}

        /* 菜单宽度 */
        body.canvas-menu .navbar-static-side, body.fixed-sidebar .navbar-static-side{width:170px;}
        #page-wrapper{margin-left:170px;}

        /*菜单居左距离*/
        .nav>li>a {padding:14px 10px 14px 15px;}
        .nav-second-level li a {padding-left:35px;padding-top:8px;}

    </style>
</div>

<div th:fragment="pagenation_web">

	<div
		style="cleat:both;padding:0px;height: 50px;background:#fff;float:right;margin-top:-0px; border: 0px solid #ccc;">
		
		<div class="btn-group" style="margin-top: 6px; float: right;">
		<span style="float:left;font-size:12px; margin-top:8px;line-height:20px;">
		 &nbsp;共<span id="pagecount" style="color:#f00" ></span>页，&nbsp;<span id="datacount" style="color:#f00" ></span>条记录&nbsp;
		</span>
			
			<button class="btn btn-outline btn-default" id="pagesize">
				15
			</button>
			
			<button data-toggle="dropdown" class="btn btn-outline btn-default dropdown-toggle">
				<span class="caret" style="height: 6px;"></span>
			</button>
			<ul class="dropdown-menu">
			
				<li><a href="javascript:void(0)" onclick="loadData(1,10)">10</a></li>
				<li class="divider"></li>
				<li><a href="javascript:void(0)" onclick="loadData(1,20)">20</a></li>
				<li class="divider"></li>
				<li><a href="javascript:void(0)" onclick="loadData(1,50)">50</a></li>
				<li class="divider"></li>
				<li><a href="javascript:void(0)" onclick="loadData(1,100)">100</a></li>
			</ul>
			
			<input type="text" id="txtNowPage" class="form-control" onkeyup="value=value.replace(/[^\d]/g,'')"
			 style="width:40px; text-align: center;"  />
		</div>
		
		<div
			style="float: right;">
			
			<div id="pager"></div>
			
		</div>
	</div>
</div>

<div th:fragment="footer_web">

    <script th:src="@{/js/jquery.min.js}"></script>
    <script th:src="@{/js/bootstrap.min.js}"></script>
    <script th:src="@{/js/jquery1.12.0-ui.js}"></script>
    <script th:src="@{/js/plugins/metisMenu/jquery.metisMenu.js}"></script>
    <script th:src="@{/js/plugins/slimscroll/jquery.slimscroll.min.js}"></script>
    <script th:src="@{/js/plugins/layer/layer.min.js}"></script>
    <script th:src="@{/js/hplus.min.js}"></script>
    <script th:src="@{/js/contabs.min.js}"></script>
    <script th:src="@{/js/plugins/pace/pace.min.js}"></script>
    <script th:src="@{/js/plugins/iCheck/icheck.min.js}"></script>
    <script>
        $(document).ready(function(){ $(".modal").draggable(); $(".i-checks").iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green",})});
    </script>
    <script  th:src="@{/js/myself/ajaxupload.js}"></script>
    <script  th:src="@{/js/myself/mypage.js}"></script>
    <script  th:src="@{/js/myself/jquery.pager.js}"></script>
    <script  th:src="@{/js/plugins/sweetalert/sweetalert.min.js}"></script>
    <script	 th:src="@{/js/My97DatePicker/WdatePicker.js}"></script>


    <div id="divLoading" style="display:none;">
        <div class="sk-spinner sk-spinner-wave">
            <div class="sk-rect1"></div>
            <div class="sk-rect2"></div>
            <div class="sk-rect3"></div>
            <div class="sk-rect4"></div>
            <div class="sk-rect5"></div>
        </div>
    </div>

    <div class="modal inmodal" id="myModalLoading" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content animated fadeIn">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title">请稍后</h4>
                </div>
                <div class="modal-body" style="height:100px;overflow-y: scroll;">
                    <div class="sk-spinner sk-spinner-wave">
                        <div class="sk-rect1"></div>
                        <div class="sk-rect2"></div>
                        <div class="sk-rect3"></div>
                        <div class="sk-rect4"></div>
                        <div class="sk-rect5"></div>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <script>
    var  ctx="/ddcar";
    function httpPost(action,param,successFun,beforeFun,reqSourceFlag){
   	 $.ajax({
   		 	type : "post",
   			url : action,
   			dataType : 'json',
   			data : param,
   			beforeSend:function(XMLHttpReq){
   				if(reqSourceFlag==false){
   					
   				}else{
   					XMLHttpReq.setRequestHeader("reqSource", "houtai");
   				}					
   				if(beforeFun) {
   					beforeFun();
   				}
   			},
   			success : function(msg, status) {
   				successFun(msg);
   			}
   			
   		});
    }
    function initUpload(uploadId,showId,funCallback,maxSize,width,height){
   	 var param={};
   	 if(maxSize!=null && maxSize!=undefined){
   		 param["maxSize"]=maxSize;
   	 }
   	if(width!=null && width!=undefined){
  		 param["width"]=width;
  	 }
   	if(height!=null && height!=undefined){
  		 param["height"]=height;
  	 }
   	 new window.AjaxUpload($('#'+uploadId), {
   			action : ctx+'/uploadimage/uploadModelImage',
   			name : 'uploadFile',
   			data : param,
   			responseType : 'json',
   			onSubmit : function(file, ext) {
   				if (ext != 'png' && ext != 'PNG' && ext != 'jpg' && ext != 'JPG'
   					&& ext != 'jpeg' && ext != 'JPEG') {
   					alert('请选择png,jpg,jpeg文件类型！');
   					return false;
   				}
   			},
   			onComplete : function(file, response) {
   				if (response.status == 200) {
   					if(showId!=''){
   						$('#'+showId).attr('src', response.rows);
   						$('#'+showId).attr('value', response.rows);
   					}
   					if(funCallback){
   						funCallback(response.rows);
   					}
   					
   				} else {
   					alert(response.msg);
   				}
   			}
   		});
   	 
    }

    function deleteData(deleteFlag1,tableName) {
   		var deleteFlag = 1;
   		if (deleteFlag1 != undefined) {
   			deleteFlag = deleteFlag1;
   		}
   		var ids = [];
   		$('input[name="checkbox-tr"]').each(function(index, data) {
   			if($(this).parent().attr('class').indexOf('checked')!=-1){
   				ids.push($(this).val());
   			}			
   		});
   		if (ids.length == 0) {
   			swal("请选择数据！", "", "success");
   			return;
   		} else {
   			swal({
   		        title: "请确定你的操作？",
   		        text: "",
   		        type: "warning",
   		        showCancelButton: true,
   		        confirmButtonColor: "#DD6B55",
   		        confirmButtonText: "确定",
   		        cancelButtonText: "取消",
   		        closeOnConfirm: true
   		    }, function () {
   		    	httpPost(ddcar+'/common/deleteTableDataByDeleteFlag',{
   					table : tableName,
   					keyValues : ids.join(','),
   					deleteFlag : deleteFlag
   				},function(msg){
   					if (msg.status == 200) {
   						loadData(pageinfo["page"]);
   					} else {
   						alert(msg.msg);
   					}
   				});
   		    	
   		    });
   			
   		}
   	}
    </script>
</div>

<div th:fragment="checklogin_phone">

</div>

<div th:fragment="header_phone">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width,user-scalable=no" />
<meta name="keywords" content="联航，问卷调查，管理后台">
<meta name="description" content="联航问卷调查管理后台">
<link th:href="@{/images/favicon.ico}" rel="shortcut icon"/>
<link th:href="@{/css/bootstrap.min.css?v=3.3.6}" rel="stylesheet"/>
<link th:href="@{/css/font-awesome.min.css?v=4.4.0}" rel="stylesheet"/>
<style type="text/css">
.modal-header,.modal-footer{cursor:pointer;}
.float-e-margins .btn {
    margin-bottom: 0px;
}
.btn-group{padding-bottom:10px;}
</style>
</div>


<div th:fragment="footer_phone">
 <script th:src="@{/js/jquery.min.js?v=2.1.4}"></script>
 <script th:src="@{/js/bootstrap.min.js?v=3.3.6}"></script>
 <script th:src="@{/js/myself/mypage.js}"></script>
 <script>
   var  ctx="/ddcar";
    function httpPost(action,param,successFun,beforeFun,reqSourceFlag){
   	 $.ajax({
   		 	type : "post",
   			url : action,
   			dataType : 'json',
   			data : param,
   			beforeSend:function(XMLHttpReq){
   				if(reqSourceFlag==false){
   					
   				}else{
   					XMLHttpReq.setRequestHeader("reqSource", "houtai");
   				}					
   				if(beforeFun) {
   					beforeFun();
   				}
   			},
   			success : function(msg, status) {
   				successFun(msg);
   			}
   			
   		});
    }
    </script>
</div>

</body>
</html>